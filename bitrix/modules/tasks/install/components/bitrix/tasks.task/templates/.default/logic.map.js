{"version":3,"file":"logic.min.js","sources":["logic.js"],"names":["BX","namespace","Tasks","Component","Task","Util","Widget","extend","options","removeTemplates","data","constants","PRIORITY_AVERAGE","PRIORITY_HIGH","sys","code","methods","construct","this","callConstruct","instances","calendar","query","helpWindow","fireTaskEvent","option","bindEvents","disableHints","initCheckList","initResponsible","initOriginator","initAuditor","initAccomplice","initTag","initParentTask","initRelatedTask","initProject","initReminder","initReplication","initProjectDependence","initProjectPlan","initEstimateTime","initState","replaceCmdBtn","getUser","IS_SUPER_USER","restrictMemberSelectors","USER","responsible","originator","canChangeOriginator","getTaskActions","EDIT","readonly","isEditMode","ROLES","ORIGINATOR","bindEvent","delegate","restrictOriginator","items","restrictMultipleResponsibles","length","value","user","DATA","values","valueOrig","valueResp","ID","replaceItem","way","hasClass","control","toggleBlock","hintManager","disableSeveral","HINT_STATE","eType","EVENT_TYPE","toString","toUpperCase","task","EVENT_TASK","uglyTask","EVENT_TASK_UGLY","fireGlobalTaskEvent","EVENT_OPTIONS","browser","IsMac","cmd","innerHTML","bindEditorEvents","editor","handler","addCustomEvent","setFocusOnTitle","setTimeout","Focus","focus","EDIT_MODE","ready","onFormKeyDown","bind","document","editorId","BXHtmlEditor","Get","window","eventEditor","id","onToggleCheckListBlock","bindDelegateControl","passCtx","onToggleBlock","onToggleFlag","onChooseBlock","onToggleAdditionalBlock","onPriorityChange","onReplicationToggle","onAllowTimeTrackingChange","onPinFooterClick","bindControl","onCancelButtonClick","onWorktimeChange","onForumSubmit","bindHelp","getTaskData","TASK","ACTION","inst","Dispatcher","get","assignCalendar","getCalendar","load","SE_PROJECTDEPENDENCE","times","controlAll","k","bindInstantChange","onEstimateTimeChange","taskData","TIME_ESTIMATE","estimate","parseInt","isNaN","hours","Math","floor","estHour","type","isElementNode","estMin","projectPlan","Shared","Form","ProjectPlan","scope","parent","matchWorkTime","MATCH_WORK_TIME","stamp","fireEvent","ctrlName","project","GroupItemSet","min","max","itemFx","itemFxHoverDelete","SE_PROJECT","parameters","nameTemplate","NAME_TEMPLATE","useAdd","MODULES","mail","opts","template","selector","UserItemSet","onResponsibleChange","SE_RESPONSIBLE","onOriginatorChange","SE_ORIGINATOR","selectorCode","SE_ACCOMPLICE","SE_AUDITOR","TagItemSet","tagPreId","SE_TAG","TaskItemSet","SE_PARENTTASK","SE_RELATEDTASK","getCheckList","checklist","SE_CHECKLIST","reminder","SE_REMINDER","setTaskId","setTaskDeadLine","DEADLINE","vars","state","clone","redrawState","node","fadeToggleByClass","pinned","FLAGS","FORM_FOOTER_PIN","footer","setState","checked","changeCSSFlag","fadeSlideToggleByClass","proxy","hControl","mControl","sControl","hour","minute","input","csrf","bitrix_sessid","e","event","prevent","isEnter","ctrlKey","metaKey","submit","PreventDefault","chosenContainer","unChosenContainer","target","isNotEmptyString","blockName","stateBlock","C","toPin","to","from","addClass","append","removeClass","toggleClass","opened","count","newItemOpenForm","duration","flagNode","flagName","userMatch","optionLabel","message","itemFirst","getItemFirst","realRespControl","show","closeLabel","hide","STAY_AT_PAGE","setMatchWorkTime","Calendar","adaptSettings","COMPANY_WORKTIME","getState","name","actionName","submitState","Query","url","COMPONENTURL","autoExec","autoExecDelay","st","fp","add","container","html","bName","chosen","getHTMLByTemplate","NAME","TYPE","VALUE","fName","onSearchBlurred","callMethod","restoreKept","toDelete","addItem","checkRestrictions","onSelectorItemSelected","extractItemValue","hasItem","close","resetInput","openAddForm","keepValue","first","deleteItem","arguments","extractItemDisplay","util","htmlspecialcharsback","nameFormatted","getNSMode","PopupItemSet","DISPLAY","TITLE","bindFormEvents","itemsChanged","selectorCtrl","searchInput","taskId","isNumber","isString","unselect","ItemSet","onTagsChange","tags","tag","each","item","in_array","display","tasksTagsPopUp","debug","popupWindow","setBindElement","showPopup","hashCode"],"mappings":"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"}