{"version":3,"file":"interface_grid.min.js","sources":["interface_grid.js"],"names":["BX","CrmInterfaceGridManager","this","_id","_settings","_toolbarMenu","_applyButtonClickHandler","delegate","_handleFormApplyButtonClick","_setFilterFieldsHandler","_onSetFilterFields","_getFilterFieldsHandler","_onGetFilterFields","prototype","initialize","id","settings","_makeBindings","ready","_bindOnGridReload","addCustomEvent","window","_onToolbarMenuShow","_onToolbarMenuClose","_onGridColumnCheck","sender","eventArgs","GetMenuByItemId","getGridJsObject","settingsMenu","SaveColumns","getId","reinitialize","onCustomEvent","form","getForm","unbind","bind","_bindOnSetFilterFields","grid","removeCustomEvent","registerFilter","filter","fields","infos","getSetting","type","isArray","isSettingsContext","name","indexOf","count","length","element","paramName","i","info","isNotEmptyString","toUpperCase","params","data","_setElementByFilter","search","elementId","isElementNode","value","_setFilterByElement","defaultval","getOwnerType","document","forms","getGrid","gridId","getAllRowsCheckBox","getEditor","editorId","CrmActivityEditor","items","getServiceUrl","_loadCommunications","commType","ids","callback","ajax","url","method","dataType","ACTION","COMMUNICATION_TYPE","ENTITY_TYPE","ENTITY_IDS","GRID_ID","onsuccess","onfailure","_onEmailDataLoaded","entityType","comms","item","push","entityTitle","entityId","addEmail","_onCallDataLoaded","addCall","_onMeetingDataLoaded","addMeeting","e","selected","elements","allRowsCheckBox","checked","checkboxes","findChildren","tagName","attribute","checkbox","PreventDefault","editor","addTask","viewActivity","optopns","create","self","managerId","showPopup","anchor","PopupMenu","show","offsetTop","offsetLeft","reloadGrid","isFunction","Reload","applyFilter","filterName","ApplyFilter","clearFilter","ClearFilter","menus","createMenu","menuId","zIndex","parseInt","menu","isNaN","showMenu","ShowMenu","expandEllipsis","ellepsis","isDomNode","cut","findNextSibling","class","removeClass","addClass","style","display"],"mappings":"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"}