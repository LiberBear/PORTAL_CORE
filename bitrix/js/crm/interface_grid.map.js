{"version":3,"file":"interface_grid.min.js","sources":["interface_grid.js"],"names":["BX","CrmInterfaceGridManager","this","_id","_settings","_toolbarMenu","_applyButtonClickHandler","delegate","_handleFormApplyButtonClick","_setFilterFieldsHandler","_onSetFilterFields","_getFilterFieldsHandler","_onGetFilterFields","prototype","initialize","id","settings","_makeBindings","ready","_bindOnGridReload","addCustomEvent","window","_onToolbarMenuShow","_onToolbarMenuClose","_onGridColumnCheck","sender","eventArgs","GetMenuByItemId","getGridJsObject","settingsMenu","SaveColumns","getId","reinitialize","form","getForm","unbind","bind","_bindOnSetFilterFields","grid","removeCustomEvent","registerFilter","filter","fields","infos","getSetting","type","isArray","isSettingsContext","name","indexOf","count","length","element","paramName","i","info","isNotEmptyString","toUpperCase","params","data","_setElementByFilter","search","elementId","isElementNode","value","_setFilterByElement","defaultval","getOwnerType","document","forms","getGrid","gridId","getAllRowsCheckBox","getEditor","editorId","CrmActivityEditor","items","getServiceUrl","_loadCommunications","commType","ids","callback","ajax","url","method","dataType","ACTION","COMMUNICATION_TYPE","ENTITY_TYPE","ENTITY_IDS","GRID_ID","onsuccess","onfailure","_onEmailDataLoaded","entityType","comms","item","push","entityTitle","entityId","addEmail","_onCallDataLoaded","addCall","_onMeetingDataLoaded","addMeeting","e","selected","elements","allRowsCheckBox","checked","checkboxes","findChildren","tagName","attribute","checkbox","PreventDefault","editor","addTask","viewActivity","optopns","create","self","onCustomEvent","managerId","showPopup","anchor","PopupMenu","show","offsetTop","offsetLeft","reloadGrid","isFunction","Reload","applyFilter","filterName","ApplyFilter","clearFilter","ClearFilter","menus","createMenu","menuId","zIndex","parseInt","menu","isNaN","showMenu","ShowMenu","expandEllipsis","ellepsis","isDomNode","cut","findNextSibling","class","removeClass","addClass","style","display"],"mappings":"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"}