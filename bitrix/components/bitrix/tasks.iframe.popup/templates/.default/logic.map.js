{"version":3,"file":"logic.min.js","sources":["logic.js"],"names":["BX","namespace","Tasks","Component","IframePopup","opts","this","merge","vars","skip","callbacks","resizeInterval","resizeLock","lastHeight","sys","scope","instances","win","ctrls","iframe","wrap","close","setCallbacks","bindEvents","mergeEx","prototype","add","params","edit","view","taskId","open","urlParams","action","parameters","parseInt","isNaN","toggleLoading","getWindow","show","setBindElement","getWindowCoords","adjustPosition","getIframe","src","getPath","bind","window","throttle","onWindowResize","addCustomEvent","delegate","onTaskGlobalEvent","onContentLoaded","onContentUnLoaded","create","attrs","scrolling","frameBorder","PopupWindow","top","left","autoHide","closeByEsc","content","getIframeContainer","overlay","lightShadow","closeIcon","right","draggable","titleBar","events","onPopupClose","onPopupShow","onPopupOpen","props","className","id","title","message","click","onCloseClicked","children","insertAfter","setTitle","replace","setTitleBar","html","path","pathToTasks","indexOf","type","isPlainObject","k","encodeURIComponent","popupWidth","pos","width","windowWidth","GetWindowSize","innerWidth","windowScrollTop","GetWindowScrollPos","scrollTop","Math","floor","getContentDocument","innerDoc","contentDocument","contentWindow","document","body","getContentContainer","getElementById","eventType","isNotEmptyString","cbAction","toString","toUpperCase","task","options","args","ID","push","taskUgly","STAY_AT_PAGE","cbName","isFunction","apply","doc","pair","parseUrl","location","pathname","startMonitorContent","stopMonitorContent","toggleClass","lockHeight","isShown","onContentResize","scrollHeight","max","documentElement","offsetHeight","clientHeight","innerSize","GetWindowInnerSize","realHeight","innerHeight","style","height","unLockHeight","popupContainer","marginBottom","resizeOverlay","toggleFixedHeight","way","setInterval","proxy","showCreateForm","url","toLowerCase","found","match","RegExp","isArray","Singletons","iframePopup","taskIFramePopup","TasksIFrameInst"],"mappings":"AAAAA,GAAGC,UAAU,kBAGbD,IAAGE,MAAMC,UAAUC,YAAc,SAASC,GAEzCC,KAAKD,KAAOL,GAAGO,SACZF,EACHC,MAAKE,MACJC,KAAM,KACNC,aACAC,eAAgB,MAChBC,WAAY,KACZC,WAAY,MAEbP,MAAKQ,KACJC,MAAO,KAERT,MAAKU,WACJC,IAAK,MAENX,MAAKY,OACJC,OAAQ,KACRC,KAAM,KACNC,MAAO,KAGRf,MAAKgB,aAAajB,EAAKK,UACvBJ,MAAKiB,aAGNvB,IAAGwB,QAAQxB,GAAGE,MAAMC,UAAUC,YAAYqB,WACzCC,IAAK,SAASC,GAEbrB,KAAKsB,KAAK,EAAGD,IAEdE,KAAM,SAASC,GAEdxB,KAAKyB,KAAK,OAAQD,IAEnBF,KAAM,SAASE,EAAQH,GAEtBrB,KAAKyB,KAAK,OAAQD,GAASE,UAAWL,KAEvCI,KAAM,SAASE,EAAQH,EAAQI,GAE9BJ,EAASK,SAASL,EAClB,IAAGM,MAAMN,IAAWA,EAAS,EAC7B,CACC,OAGDI,EAAaA,KAEb5B,MAAK+B,cAAc,KACnB/B,MAAKgC,YAAYC,MAEjBjC,MAAKgC,YAAYE,eAAelC,KAAKmC,kBACrCnC,MAAKgC,YAAYI,gBAEjBpC,MAAKqC,YAAYC,IAAMtC,KAAKuC,QAAQZ,EAAQH,EAAQI,EAAWF,YAEhEX,MAAO,WAENf,KAAKgC,YAAYjB,SAElBE,WAAY,WAEXvB,GAAG8C,KAAKC,OAAQ,SAAU/C,GAAGgD,SAAS1C,KAAK2C,eAAgB,IAAK3C,MAChEN,IAAGkD,eAAeH,OAAQ,iBAAkB/C,GAAGmD,SAAS7C,KAAK8C,kBAAmB9C,MAGhFN,IAAGkD,eAAeH,OAAQ,kBAAmB/C,GAAGmD,SAAS7C,KAAK+C,gBAAiB/C,MAC/EN,IAAGkD,eAAeH,OAAQ,oBAAqB/C,GAAGmD,SAAS7C,KAAKgD,kBAAmBhD,QAEpFqC,UAAW,WAEV,GAAIrC,KAAKY,MAAMC,SAAW,KAC1B,CACCb,KAAKY,MAAMC,OAASnB,GAAGuD,OAAO,UAC7BC,OAASC,UAAW,KAAMC,YAAa,OAIzC,MAAOpD,MAAKY,MAAMC,QAEnBmB,UAAW,WAEV,GAAGhC,KAAKU,UAAUC,MAAQ,MAC1B,CACCX,KAAKU,UAAUC,IAAM,GAAIjB,IAAG2D,YAAY,sBAAuBC,IAAK,EAAGC,KAAM,IAC5EC,SAAW,MACXC,WAAa,KACbC,QAAU1D,KAAK2D,qBACfC,QAAS,KACTC,YAAa,MACbC,WAAaR,IAAK,OAAQS,MAAO,QACjCC,UAAW,MACXC,SAAU,KACVC,QACCC,aAAczE,GAAGmD,SAAS7C,KAAKmE,aAAcnE,MAC7CoE,YAAa1E,GAAGmD,SAAS7C,KAAKqE,YAAarE,QAI7CA,MAAKY,MAAMG,MAAQrB,GAAGuD,OAAO,OAC5BqB,OACCC,UAAW,UAEZrB,OACCsB,GAAI,oBACJC,MAAO/E,GAAGgF,QAAQ,8CAEnBR,QACCS,MAAOjF,GAAGmD,SAAS7C,KAAK4E,eAAgB5E,OAEzC6E,UACCnF,GAAGuD,OAAO,UAIZvD,IAAGoF,YAAY9E,KAAKY,MAAMG,MAAOrB,GAAG,4CAGrC,MAAOM,MAAKU,UAAUC,KAEvBoE,SAAU,SAASpD,EAAQH,GAE1B,GAAIiD,GAAQ,EAEZ,IAAG9C,GAAU,MACb,CACCA,EAASA,GAAU,OAAS,OAAS,MAErCH,GAASK,SAASL,EAClB,IAAGM,MAAMN,IAAWA,GAAU,EAC9B,CACCA,EAAS,EAGV,GAAGG,GAAU,QAAUH,GAAU,EACjC,CACCG,EAAS,MAGV8C,EAAQ/E,GAAGgF,QAAQ,gCAAgC/C,EAAO,cAE1D,IAAGH,EAAS,EACZ,CACCiD,EAAQA,EAAMO,QAAQ,YAAaxD,IAIrCxB,KAAKgC,YAAYiD,aAChBvB,QAAShE,GAAGuD,OAAO,QAClBiC,KAAMT,OAITlC,QAAS,SAASZ,EAAQH,EAAQE,GAEjCC,EAASA,GAAU,OAAS,OAAS,MACrCH,GAASK,SAASL,EAElB,IAAI2D,GAAOnF,KAAKD,KAAKqF,YAAYJ,QAAQ,YAAaxD,EACtD2D,GAAOA,GAAQA,EAAKE,QAAQ,OAAS,EAAI,IAAM,KAAO,UAEtD,IAAG3F,GAAG4F,KAAKC,cAAc7D,GACzB,CACC,IAAI,GAAI8D,KAAK9D,GACb,CACCyD,GAAQ,IAAIK,EAAE,IAAIC,mBAAmB/D,EAAU8D,KAIjDL,EAAOA,EAAKH,QAAQ,WAAYrD,EAEhC,OAAOwD,IAGRhD,gBAAiB,WAEhB,GAAIuD,GAAahG,GAAGiG,IAAI3F,KAAK2D,sBAAsBiC,KAEnD,IAAIC,GAAcnG,GAAGoG,gBAAgBC,UACrC,IAAIC,GAAkBtG,GAAGuG,qBAAqBC,SAE9C,QAAQ3C,KAAM4C,KAAKC,OAAOP,EAAcH,GAAc,GAAIpC,IAAM,GAAK0C,IAItEK,mBAAoB,WAEnB,GAAIC,GAAYtG,KAAKqC,YAA2B,gBAAIrC,KAAKqC,YAAYkE,gBAAkBvG,KAAKqC,YAAYmE,cAAcC,QACtH,OAAOH,IAAYA,EAASI,KAAOJ,EAAW,MAI/C3C,mBAAoB,WAEnB,GAAI3D,KAAKY,MAAME,OAAS,KACxB,CACCd,KAAKY,MAAME,KAAOd,KAAKY,MAAME,KAAOpB,GAAGuD,OAAO,OAC7CqB,OAASC,UAAW,uBACpBrB,OAASsB,GAAI,qBACbK,UAAY7E,KAAKqC,eAInB,MAAOrC,MAAKY,MAAME,MAInB6F,oBAAqB,WAEpB,MAAO3G,MAAKqG,qBAAqBO,eAAe,wBAGjDhC,eAAgB,WAEf5E,KAAKgC,YAAYjB,SAGlB+B,kBAAmB,SAAS+D,EAAWxF,GAEtC,GAAG3B,GAAG4F,KAAKwB,iBAAiBD,GAC5B,CACC,GAAIE,GAAWF,EAAUG,WAAWC,aAEpC5F,GAASA,KACTA,GAAO6F,KAAO7F,EAAO6F,QACrB7F,GAAO8F,QAAU9F,EAAO8F,WAExB,IAAIC,KACJ,IAAI5F,GAASK,SAASR,EAAO6F,KAAKG,GAElC,IAAIN,GAAY,WAAajF,MAAMN,IAAWA,EAC9C,CACC4F,EAAKE,KAAKjG,EAAO6F,KAAKG,QAElB,IAAGN,GAAY,OAASA,GAAY,SACzC,CAKC,GAAG1F,EAAOkG,SACV,CACCH,EAAKE,KAAKjG,EAAOkG,cAGlB,CAEC,QAIF,IAAKlG,EAAO8F,QAAQK,aACpB,CACCxH,KAAKe,QAGN,SAAUf,MAAKE,KAAKE,UAAU2G,IAAa,aAAe/G,KAAKE,KAAKE,UAAU2G,KAAc,MAC5F,CACC,GAAIU,GAASzH,KAAKE,KAAKE,UAAU2G,EAEjC,IAAGrH,GAAG4F,KAAKoC,WAAWjF,OAAOgF,IAC7B,CACChF,OAAOgF,GAAQE,MAAMlF,OAAQ2E,OAMjCrE,gBAAiB,WAEhB,GAAI6E,GAAM5H,KAAKqG,oBACf,IAAGuB,EACH,CACC,GAAIC,GAAO7H,KAAK8H,SAASF,EAAIG,SAASC,SACtC,IAAGH,EACH,CACC7H,KAAK+E,SAAS8C,EAAKlG,OAAQkG,EAAKrG,SAIlCxB,KAAK+B,cAAc,MACnB/B,MAAKiI,uBAGNjF,kBAAmB,WAElBhD,KAAK+E,SAAS,MACd/E,MAAKkI,sBAGN7D,YAAa,WAEZ3E,GAAGyI,YAAYnI,KAAKY,MAAMG,MAAO,SACjCf,MAAK+B,cAAc,OAEpBoC,aAAc,WAEbzE,GAAGyI,YAAYnI,KAAKY,MAAMG,MAAO,SAEjCf,MAAKoI,YACLpI,MAAKkI,oBACLlI,MAAK+B,cAAc,KACnB/B,MAAKE,KAAKK,WAAa,KACvBP,MAAKqC,YAAYC,IAAM,eAGxBK,eAAgB,WAEf,GAAG3C,KAAKgC,YAAYqG,UACpB,CACCrI,KAAKgC,YAAYE,eAAelC,KAAKmC,qBAIvCmG,gBAAiB,WAEhB,GAAGtI,KAAKgC,YAAYqG,YAAcrI,KAAKE,KAAKI,WAC5C,CACC,GAAIgG,GAAWtG,KAAKqG,oBACpB,IAAIC,EACJ,CACC,GAAI5C,GAAU1D,KAAK2G,qBACnB,IAAIjD,EACJ,CACC,GAAI6E,GAAepC,KAAKqC,IACvBlC,EAASI,KAAK6B,aAAcjC,EAASmC,gBAAgBF,aACrDjC,EAASI,KAAKgC,aAAcpC,EAASmC,gBAAgBC,aACrDpC,EAASI,KAAKiC,aAAcrC,EAASmC,gBAAgBE,aAGtD,IAAIC,GAAYlJ,GAAGmJ,mBAAmBvC,EACtC,IAAIwC,GAAa,CAEjB,IAAIP,EAAeK,EAAUG,YAC7B,CACCD,EAAaP,EAAe,MAG7B,CACCO,EAAapF,EAAQgF,aAGtB,GAAII,GAAc9I,KAAKE,KAAKK,WAC5B,CACCP,KAAKE,KAAKK,WAAauI,CACvB9I,MAAK2D,qBAAqBqF,MAAMC,OAASH,EAAa,IAEtD9I,MAAKkJ,eAGNlJ,KAAKgC,YAAYmH,eAAeH,MAAMI,aAAe,MACrDpJ,MAAKgC,YAAYqH,oBAMrBjB,WAAY,WAEXpI,KAAKsJ,kBAAkB,OAGxBJ,aAAc,WAEblJ,KAAKsJ,kBAAkB,QAGxBA,kBAAmB,SAASC,GAE3B7J,GAAG6J,EAAM,WAAa,eAAevJ,KAAK2D,qBAAsB,gBAGjE5B,cAAe,SAASwH,GAEvB7J,GAAG6J,EAAM,WAAa,eAAevJ,KAAK2D,qBAAsB,YAGjEuE,mBAAoB,WAEnBlI,KAAKE,KAAKI,WAAa,MAGxB2H,oBAAqB,WAEpBjI,KAAKE,KAAKI,WAAa,KACvB,IAAGN,KAAKE,KAAKG,iBAAmB,MAChC,CACCL,KAAKE,KAAKG,eAAiBmJ,YAAY9J,GAAG+J,MAAMzJ,KAAKsI,gBAAiBtI,MAAO,OAI/EgB,aAAc,SAASZ,GAEtB,GAAGV,GAAG4F,KAAKC,cAAcnF,GACzB,CACC,IAAI,GAAIoF,KAAKpF,GACb,CACC,GAAGA,EAAUoF,KAAO,OAAS9F,GAAG4F,KAAKwB,iBAAiB1G,EAAUoF,IAChE,CACCxF,KAAKE,KAAKE,UAAUoF,GAAKpF,EAAUoF,OAMvCkE,eAAgB,WAEf1J,KAAKoB,OAGN0G,SAAU,SAAS6B,GAElB,GAAIxE,GAAOnF,KAAKD,KAAKqF,WACrB,IAAGD,EACH,CACCA,EAAOA,EAAKyE,cAAc5E,QAAQ,WAAY,kBAAkBA,QAAQ,YAAa,SACrF,IAAI6E,GAAQF,EAAIG,MAAM,GAAIC,QAAO5E,GACjC,IAAG0E,GAASnK,GAAG4F,KAAK0E,QAAQH,GAC5B,CACC,GAAIlI,GAASkI,EAAM,IAAM,KACzB,IAAIrI,GAASqI,EAAM,IAAM,KAEzB,IAAGlI,GAAUH,EACb,CACC,OAAQG,OAAQA,EAAQH,OAAQK,SAASL,MAK5C,MAAO,QAIT9B,IAAGE,MAAMC,UAAUC,YAAYmD,OAAS,SAASlD,GAGhD,GAAG0C,OAAOa,KAAOb,OACjB,CACC,OAGD,SAAU/C,IAAGE,MAAMqK,YAAc,YACjC,CACCvK,GAAGE,MAAMqK,cAGV,SAAUvK,IAAGE,MAAMqK,WAAWC,aAAe,YAC7C,CACCxK,GAAGE,MAAMqK,WAAWC,YAAc,GAAIxK,IAAGE,MAAMC,UAAUC,YAAYC,EAGrE0C,QAAO0H,gBAAkBzK,GAAGE,MAAMqK,WAAWC,WAC7CzH,QAAO/C,GAAG0K,gBAAkB1K,GAAGE,MAAMqK,WAAWC,gBAGjD,CAECxK,GAAGE,MAAMqK,WAAWC,YAAYlJ,aAAajB,EAAKK,WAGnD,MAAOV,IAAGE,MAAMqK,WAAWC"}