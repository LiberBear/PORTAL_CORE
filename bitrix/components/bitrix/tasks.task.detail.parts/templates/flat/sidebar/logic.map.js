{"version":3,"file":"logic.min.js","sources":["logic.js"],"names":["BX","namespace","Tasks","Component","TaskViewSidebar","parameters","this","layout","taskId","messages","workingTime","start","hours","minutes","end","can","allowTimeTracking","initDeadline","initReminder","initMark","initTime","initTags","addCustomEvent","window","delegate","onTaskEvent","prototype","type","data","task","ID","isNotEmptyString","REAL_STATUS","STATUS_CHANGED_DATE","setStatus","status","time","statusName","statusDate","innerHTML","message","util","htmlspecialchars","deadline","deadlineClear","bind","proxy","onDeadlineClick","clearDeadline","event","now","Date","today","UTC","getFullYear","getMonth","getDate","calendar","node","field","form","bTime","value","bHideTimebar","callback_after","setDeadline","ValueToString","date","format","convertBitrixFormat","replace","style","display","updateDeadline","emptyDeadline","query","Util","Query","add","id","DEADLINE","onCustomEvent","fireGlobalTaskEvent","STAY_AT_PAGE","execute","addReminder","reminderAdd","mark","onMarkClick","TaskGradePopup","show","listValue","events","onPopupChange","onMarkChange","popup","proxy_context","className","toLowerCase","listItem","name","MARK","Dispatcher","bindEvent","onTaskTimerTick","formatTimeAmount","saveTags","tags","tagsString","i","length","TAGS"],"mappings":"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"}